(function(){var e,t,r,n,i,o,a,l,u,c,s,d,g,h,p,f,v,w,m,y,b={}.hasOwnProperty,x=function(e,t){function r(){this.constructor=e}for(var n in t)b.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};h=!1,p=!1,v=!1,f=!1,a=function(){function e(e){this.target=e}return e.prototype.template=function(){return alert("Not implemented")},e.prototype.render=function(){return alert("Not implemented")},e}(),i=function(e){function t(){return w=t.__super__.constructor.apply(this,arguments)}return x(t,e),t.prototype.template=function(e){var t;return t='    <article class="item feed-preview" data-articleid="'+e.Id+'">      <header><a href="'+e.Url+'">'+e.Headline+"</a></header>",null!=e.Image&&(t+='<img src="'+e.Image+'"/>'),t+='      <div class="text">        <p>'+e.Teaser+'</p>      </div>      <div class="clearfix"/>     </article>    '},t.prototype.render=function(e){return this.target.append(this.template(e))},t}(a),r=function(e){function t(){return m=t.__super__.constructor.apply(this,arguments)}return x(t,e),t.prototype.template=function(e){return'      <article class="item article-preview" data-articleid="'+e.Id+'">        <img src="'+e.Image+'"/>        <div class="text">            <header><a href="'+e.Url+'">'+e.Headline+"</a></header>            <p>"+e.Teaser+'</p>        </div>        <div class="clearfix"></div>      </article>    '},t.prototype.render=function(e){return this.target.append(this.template(e))},t}(a),e=function(e){function t(){return y=t.__super__.constructor.apply(this,arguments)}return x(t,e),t.prototype.template=function(e){var t,r,n,i;return t="",r="",(null!=(n=e.Description)?n.length:void 0)&&(t="<p>"+e.Description+"</p>"),(null!=(i=e.Metadata)?i.length:void 0)&&(r='<div class="meta">'+e.Metadata+"</div>"),'        <article class="item job">            <header>                <a href="'+e.Url+'" target="_blank">'+e.Title+'</a>            </header>            <div class="text">                <div class="post-date">Posted on: '+e.Date+"</div>"+t+r+"<div></article>"},t.prototype.render=function(e){return this.target.append(this.template(e))},t}(a),o=function(){function e(e){this.delta=e}return e.prototype.register=function(){var e,t;return e=this.delta,t=this.load,$(window).scroll(function(){return $("#column-left").height()-$(window).height()-$(window).scrollTop()<e&&!p?t():void 0}),$(document).bind("touchmove",function(){return $("#column-left").height()-$(window).height()-$(window).scrollTop()<e&&!p?t():void 0}),t()},e.prototype.load=function(){var e,t,r;return p=!0,r=$("#inner-left").find(".item").length,280>r?($(".pager-loading").show(),e={a:"news",c:20,s:r},t=$.getJSON("/ajax-actions",e),t.done(function(e){var t,r,n,o,a;for(a=e.data.Articles,r=function(){var e;return e=new i($("#inner-left")),e.render(t)},n=0,o=a.length;o>n;n++)t=a[n],r();return $(".pager-loading").hide(),p=!1}),t.error(function(){return $("#main .pager").show(),$(".pager-loading").hide(),p=!1})):($("#main .pager").show(),$(".pager-loading").hide())},e}(),l=function(){function e(e){this.delta=e}return e.prototype.register=function(){var e,t;return e=this.delta,t=this.load,$(window).scroll(function(){return $("#column-full").height()-$(window).height()-$(window).scrollTop()<e&&!v?t():void 0}),$(document).bind("touchmove",function(){return $("#column-full").height()-$(window).height()-$(window).scrollTop()<e&&!v?t():void 0}),t()},e.prototype.load=function(){var e,t,n,i;return v=!0,n=$("#inner-full").find(".item").length,i=$("#inner-full").attr("data-root"),280>n?($(".pager-loading").show(),e={a:"any",r:i,c:20,s:n},t=$.getJSON("/ajax-actions",e),t.done(function(e){var t,n,i,o,a;for(a=e.data.Articles,n=function(){var e;return e=new r($("#inner-full")),e.render(t)},i=0,o=a.length;o>i;i++)t=a[i],n();return $(".pager-loading").hide(),v=!1}),t.error(function(){return $("#main .pager").show(),$(".pager-loading").hide(),v=!1})):($("#main .pager").show(),$(".pager-loading").hide())},e}(),n=function(){function e(e){this.delta=e}return e.prototype.register=function(){var e,t;return e=this.delta,t=this.load,$(window).scroll(function(){return $("#column-center").height()-$(window).height()-$(window).scrollTop()<e&&!h?t():void 0}),$(document).bind("touchmove",function(){return $("#column-center").height()-$(window).height()-$(window).scrollTop()<e&&!h?t():void 0}),t()},e.prototype.load=function(){var e,t,n;return h=!0,n=$("#inner-center").find(".item").length,100>n?($(".pager-loading").show(),e={a:"features",c:20,s:n},t=$.getJSON("/ajax-actions",e),t.done(function(e){var t,n,i,o,a;for(a=e.data.Articles,n=function(){var e;return e=new r($("#inner-center")),e.render(t)},i=0,o=a.length;o>i;i++)t=a[i],n();return $(".pager-loading").hide(),h=!1}),t.error(function(){return $("#main .pager").show(),$(".pager-loading").hide(),h=!1})):($("#main .pager").show(),$(".pager-loading").hide())},e}(),t=function(){function t(e){this.delta=e}return t.prototype.register=function(){var e,t;return e=this.delta,t=this.load,$(window).scroll(function(){return $("#column-full").height()-$(window).height()-$(window).scrollTop()<e&&!f?t():void 0}),$(document).bind("touchmove",function(){return $("#column-full").height()-$(window).height()-$(window).scrollTop()<e&&!f?t():void 0}),t()},t.prototype.load=function(){var t,r,n;return f=!0,n=$("#inner-job-listing").find(".item").length,200>n?($(".pager-loading").show(),t={a:"jobs",c:20,s:n},r=$.getJSON("/ajax-actions",t),r.done(function(t){var r,n,i,o,a;for(a=t.data.JobList,n=function(){var t;return t=new e($("#inner-job-listing")),t.render(r)},i=0,o=a.length;o>i;i++)r=a[i],n();return $(".pager-loading").hide(),f=!1}),r.error(function(){return $("#main .pager").show(),$(".pager-loading").hide(),f=!1})):($("#main .pager").show(),$(".pager-loading").hide())},t}(),c=function(){function e(){}return e.prototype.register=function(){var e,t;return e=this.login,t=this.reg,e(),t()},e.prototype.login=function(){return g($("#signin"),$('#signin button[type="submit"]')),$("#regwall-signin").click(function(e){var t,r,n,i,o,a;return e.preventDefault(),o=document.location+"?loggedin#premium",a=$("#regwall-email").val(),n=$("#regwall-pwd").val(),i=!1,t={a:"l",user:a,pass:n,rem:i},r=$.ajax({type:"POST",url:"/ajax-actions",data:t,dataType:"JSON"}),r.done(function(e){return"valid"===e.response&&(document.location=o),"invalid"===e.response?$("#regwall-pwd-error").html(e.data):void 0}),r.error(function(){return alert(error)})})},e.prototype.reg=function(){return g($("#register"),$('#register button[type="submit"]')),$("#regwall-register").click(function(e){return e.preventDefault(),document.location="/register?email="+$("#regwall-email-reg").val()})},e}(),u=function(){function e(){}return e.prototype.register=function(){var e;return e=this.reg,e()},e.prototype.reg=function(){return g($("#rhs-form-signin"),$("#rhs-register")),$("#rhs-register-btn").click(function(e){return e.preventDefault(),document.location="/register?email="+$("#rhs-email-reg").val()})},e}(),s=function(){function e(){}return e.prototype.register=function(){var e;return e=this.search,e()},e.prototype.search=function(){return $("#search-button").click(function(e){var t,r;return e.preventDefault(),r=$("#search").val(),t=$(this).attr("data-target"),(null!=r?r.length:void 0)?(r=encodeURIComponent(r),document.location.href=""+t+"?search="+r):void 0})},e}(),d=function(){function e(e){this.delta=e}return e.prototype.register=function(){var e,t;return e=this.delta,t=this.load,$(window).scroll(function(){return $("#column-full").height()-$(window).height()-$(window).scrollTop()<e&&!v?t():void 0}),$(document).bind("touchmove",function(){return $("#column-full").height()-$(window).height()-$(window).scrollTop()<e&&!v?t():void 0}),t()},e.prototype.load=function(){var e,t,n,i;return v=!0,n=$("#inner-search-results").find(".item").length,i=$("#inner-search-results").attr("data-searchterm"),200>n?($(".pager-loading").show(),e={a:"sr",t:i,c:20,s:n},t=$.getJSON("/ajax-actions",e),t.done(function(e){var t,n,i,o,a;for(a=e.data.Articles,n=function(){var e;return e=new r($("#inner-search-results")),e.render(t)},i=0,o=a.length;o>i;i++)t=a[i],n();return $(".pager-loading").hide(),v=!1}),t.error(function(){return $("#main .pager").show(),$(".pager-loading").hide(),v=!1})):($("#main .pager").show(),$(".pager-loading").hide())},e}(),g=function(e,t){return e.keyup(function(e){var r;return r=e.which,13===r?(t.trigger("click"),e.preventDefault()):void 0})},$(document).ready(function(){var e,r,i,a,h,p,f,v;return $("#vp2-regwall").length>0&&(h=new c,h.register()),$("#inner-left").length>0&&(i=new o(500),i.register()),$("#inner-full").length>0&&(a=new l(300),a.register()),$("#inner-center").length>0&&(r=new n(300),r.register()),$("#search-button").length>0&&(g($("nav .form-inline .form-group"),$("#search-button")),f=new s,f.register()),$("#inner-search-results").length>0&&(v=new d(300),v.register()),$("#inner-job-listing").length>0&&(e=new t(300),e.register()),$("#rhs-register").length>0&&(p=new u,p.register()),$("#tab-news").click(function(e){return $("#column-center").removeClass("active"),$("#tab-featured").removeClass("active"),$("#tab-news").addClass("active"),$("#column-left").addClass("active"),e.preventDefault()}),$("#tab-featured").click(function(e){return $("#column-left").removeClass("active"),$("#tab-news").removeClass("active"),$("#tab-featured").addClass("active"),$("#column-center").addClass("active"),e.preventDefault()}),$(".form-registration").length>0&&($('.form-registration [type="submit"]').addClass("btn btn-lg btn-primary"),$(".orgtype").length>0&&$(".orgtype").change(function(){var e;return e=$(this).val(),"other"===e.toLowerCase()?$(".orgtypeother").show():$(".orgtypeother").hide()})),$(".article-main img.vp-lightbox").length>0&&$(".article-main img.vp-lightbox").each(function(e,t){var r;return r=$(t).attr("src"),$(t).wrap('<a href="'+r+'" data-lightbox="defaultgroup"></a>')}),jQuery().lightBox?$("a.lightbox").lightBox():void 0})}).call(this);